{"version":3,"file":"ol-elevation-parser.min.js","sources":["../node_modules/array-smooth/lib/index.js","../src/helpers.ts","../src/logger.ts","../src/defaults.ts","../src/readFromImage.ts","../src/ol-elevation-parser.ts"],"sourcesContent":["function smooth(arr, windowSize, getter = (value) => value, setter) {\n  const get = getter\n  const result = []\n\n  for (let i = 0; i < arr.length; i += 1) {\n    const leftOffeset = i - windowSize\n    const from = leftOffeset >= 0 ? leftOffeset : 0\n    const to = i + windowSize + 1\n\n    let count = 0\n    let sum = 0\n    for (let j = from; j < to && j < arr.length; j += 1) {\n      sum += get(arr[j])\n      count += 1\n    }\n\n    result[i] = setter ? setter(arr[i], sum / count) : sum / count\n  }\n\n  return result\n}\n\nmodule.exports = smooth\n",null,null,null,null,null],"names":["arr","windowSize","getter","value","setter","get","result","i","length","leftOffeset","to","count","sum","j","geojson","GeoJSON","deepObjectAssign","target","sources","forEach","source","Object","keys","key","s_val","loggerIsEnabled","options","ReadFromImage","constructor","calculateZMethod","bands","map","this","_projection","getProjection","getView","_view","_calculateZMethod","_canvas","createElement","_ctx","getContext","clearRect","width","height","tileGrid","_getTileGrid","tileSize","getTileSize","zoom","tile","_source","getTile","tileCoord","getState","r","g","b","bool","_initialized","_getZFromSampledCoords","async","coords","optOptions","_countConnections","countErrorsLimit","resolutionNumber","_resolution","tilesResolution","getTilesResolution","console","warn","maxRes","getMaxTilesResolution","coord","countConnections","logger","zValue","TileWMS","_getZValuesFromWMS","getMap","_getZValuesFromImage","zValueRound","Number","toFixed","err","errorCount","_options","defaultOptions","verbose","sampledCoords","gridPolygons","_sampleFeatureCoords","feature","samples","customOptions","getSamples","sampleSizeArea","contourCoords","mainCoords","dispatchEvent","getSource","setSource","silent","getCalculateZMethod","setCalculateZMethod","set","setSmooth","smooth","setNoDataValue","noDataValue","getBands","setBands","setTimeout","timeout","_readFromImage","getCurrentViewResolution","_init","GeneralEventTypes","LOAD","_onInitModifySource","params","geom","Polygon","polygonFeature","sub_coords","getGeometry","getCoordinates","getPolygonSamples","getCode"],"mappings":"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","x_google_ignoreList":[0]}